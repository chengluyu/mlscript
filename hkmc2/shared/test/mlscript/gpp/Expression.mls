:global
:p
:keepContext

1 + 2
//│ |1| |+| |2|
//│ Pretty-print: 1 + 2
//│ AST: App(App(Var(+),Const(IntLit(1))),Const(IntLit(2)))

1 + 2 * 3
//│ |1| |+| |2| |*| |3|
//│ Pretty-print: 1 + 2 * 3
//│ AST: App(App(Var(+),Const(IntLit(1))),App(App(Var(*),Const(IntLit(2))),Const(IntLit(3))))

(1 + 2) * 3
//│ |(|1| |+| |2|)| |*| |3|
//│ Pretty-print: (1 + 2) * 3
//│ AST: App(App(Var(*),App(App(Var(+),Const(IntLit(1))),Const(IntLit(2)))),Const(IntLit(3)))

1 * (2 + 3)
//│ |1| |*| |(|2| |+| |3|)|
//│ Pretty-print: 1 * (2 + 3)
//│ AST: App(App(Var(*),Const(IntLit(1))),App(App(Var(+),Const(IntLit(2))),Const(IntLit(3))))

:pe
1 + (2 * 3 "str"
//│ |1| |+| |(|2| |*| |3| |"str"|
//│ ╔══[PARSE ERROR] Expected a closing parenthesis; found literal instead
//│ ║  l.26: 	1 + (2 * 3 "str"
//│ ╙──      	           ^^^^^
//│ ╔══[PARSE ERROR] Expected end of input; found literal instead
//│ ║  l.26: 	1 + (2 * 3 "str"
//│ ╙──      	           ^^^^^
//│ Pretty-print: 1 + 2 * 3
//│ AST: App(App(Var(+),Const(IntLit(1))),App(App(Var(*),Const(IntLit(2))),Const(IntLit(3))))

:pe
1 + (2 * 3
//│ |1| |+| |(|2| |*| |3|
//│ ╔══[PARSE ERROR] Expected a closing parenthesis; found end of input instead
//│ ║  l.38: 	1 + (2 * 3
//│ ╙──      	          ^
//│ Pretty-print: 1 + 2 * 3
//│ AST: App(App(Var(+),Const(IntLit(1))),App(App(Var(*),Const(IntLit(2))),Const(IntLit(3))))

1 +
  2
//│ |1| |+| |2|
//│ Pretty-print: 1 + 2
//│ AST: App(App(Var(+),Const(IntLit(1))),Const(IntLit(2)))

:pe
1 +
2
//│ |1| |+|↵|2|
//│ ╔══[PARSE ERROR] Expected an expression; found newline instead
//│ ║  l.53: 	1 +
//│ ║        	   ^
//│ ║  l.54: 	2
//│ ╙──      	
//│ Pretty-print:
//│   1 + ?
//│   2
//│ AST:
//│   App(App(Var(+),Const(IntLit(1))),Empty)
//│   Const(IntLit(2))

:pe
1 +
  2 +
  3
//│ |1| |+| |2| |+|↵|3|
//│ ╔══[PARSE ERROR] Expected an expression; found newline instead
//│ ║  l.70: 	  2 +
//│ ║        	     ^
//│ ║  l.71: 	  3
//│ ╙──      	^^
//│ Pretty-print:
//│   1 + 2 + ?
//│   3
//│ AST:
//│   App(App(Var(+),App(App(Var(+),Const(IntLit(1))),Const(IntLit(2)))),Empty)
//│   Const(IntLit(3))
