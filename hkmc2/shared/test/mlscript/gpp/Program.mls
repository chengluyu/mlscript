:global
:p

define Program ::= Expr ~> $1
0
1
x => x
(x => x + 1)(2)
//│ |define| |Program| |::=| |Expr| |~>| |$1|↵|0|↵|1|↵|x| |=>| |x|↵|(|x| |=>| |x| |+| |1|)|(|2|)|
//│ Pretty-print:
//│   0
//│   1
//│   x => Var(x).print
//│   (x => App(App(Var(+),Var(x)),Const(IntLit(1))).print)(2)
//│ AST:
//│   Const(IntLit(0))
//│   Const(IntLit(1))
//│   Lam(Var(x),Var(x))
//│   App(Lam(Var(x),App(App(Var(+),Var(x)),Const(IntLit(1)))),Const(IntLit(2)))
//│ Keywords: ::=, =>, define, keyword, ~>
//│ Rules: Program ::= Expr End , default ::= Expr End 

define Program ::= Expr Expr ~> $1 + $2
0 1
2 3
4 5
//│ |define| |Program| |::=| |Expr| |Expr| |~>| |$1| |+| |$2|↵|0| |1|↵|2| |3|↵|4| |5|
//│ Pretty-print:
//│   0 + 1
//│   2 + 3
//│   4 + 5
//│ AST:
//│   App(App(Var(+),Const(IntLit(0))),Const(IntLit(1)))
//│   App(App(Var(+),Const(IntLit(2))),Const(IntLit(3)))
//│   App(App(Var(+),Const(IntLit(4))),Const(IntLit(5)))
//│ Keywords: ::=, =>, define, keyword, ~>
//│ Rules: Program ::= Expr Expr End , default ::= Expr End 

:pe
define Program ::= Expr ~> $1
f(
  1,
  2,
  3,
)
//│ |define| |Program| |::=| |Expr| |~>| |$1|↵|f|(| |1|,|↵|2|,|↵|3|,|↵|)|
//│ ╔══[PARSE ERROR] Expected an expression; found newline instead
//│ ║  l.42: 	  1,
//│ ║        	    ^
//│ ║  l.43: 	  2,
//│ ╙──      	^^
//│ ╔══[PARSE ERROR] Expected a closing parenthesis; found newline instead
//│ ║  l.42: 	  1,
//│ ║        	    ^
//│ ║  l.43: 	  2,
//│ ╙──      	^^
//│ ╔══[PARSE ERROR] Expected an expression; found closing parenthesis instead
//│ ║  l.45: 	)
//│ ╙──      	^
//│ ╔══[PARSE ERROR] Expected end of input; found closing parenthesis instead
//│ ║  l.45: 	)
//│ ╙──      	^
//│ Pretty-print:
//│   (f)(((,)(1))(?))
//│   2
//│   3
//│   ?
//│ AST:
//│   App(Var(f),App(App(Var(,),Const(IntLit(1))),Empty))
//│   Const(IntLit(2))
//│   Const(IntLit(3))
//│   Empty
//│ Keywords: ::=, =>, define, keyword, ~>
//│ Rules: Program ::= Expr End , default ::= Expr End 
